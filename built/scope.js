//     scope
//     (c) simonfan
//     scope is licensed under the MIT terms.

define("__scope/evaluation",["require","exports","module","lodash"],function(t,i){function e(t,i,e){var n=o.map(i,function(i){return t[i]});return e.to&&"object"===e.to?o.zipObject(i,n):n}function n(t,i,e){var n=o.mapValues(i,function(i,e){var n=t[e];return o.isUndefined(n)?i:n});return e.to&&"array"===e.to?e.order?o.map(e.order,function(t){return n[t]}):o.values(object):n}function r(t,i){return t[i]}var o=t("lodash");i.evaluate=function(t,i){return i=i||{},o.isArray(t)?e(this,t,i):o.isObject(t)?n(this,t,i):o.isString(t)?r(this,t,i):void 0}}),define("__scope/iteration",["require","exports","module","lodash"],function(t,i){var e=t("lodash");i.each=function(t,i){for(var e in this)t.call(i,this[e],e);return this},i.eachOwn=function(t,i){return e.each(this,t,i)},i.pick=function(t,i){if(e.isArray(t))return this.evaluate(t);var n={};return this.each(function(e,r){t.call(i,e,r)&&(n[r]=e)}),n},i.pickOwn=function(t,i){return e.pick(this,t,i)}}),define("scope",["require","exports","module","lodash","subject","./__scope/evaluation","./__scope/iteration"],function(t,i,e){var n=t("lodash"),r=t("subject"),o=e.exports=r({initialize:function(t){this.initialize=void 0,this.assign(t)},create:function(t){return n.extend(n.create(this),t,{parentScope:this})},invoke:function(t,i,e){return e=e||this,t=n.isFunction(t)?t:this[t],i=this.evaluate(i),n.isArray(i)?t.apply(e,i):t.call(e,i)},assign:function(t,i){return n.isString(t)?this[t]=i:n.isObject(t)&&n.assign(this,t),this}});o.proto(t("./__scope/evaluation")).proto(t("./__scope/iteration"))});